# 🎵 BGM设置指南

## 🎰 当前状态
游戏已经集成了完整的音频系统，包括：
- ✅ BGM播放控制
- ✅ 音效系统 (转轮、中奖、大奖)
- ✅ 音量控制
- ✅ 静音功能
- ✅ 备用音效生成

## 🥋 添加FC功夫BGM

### 方法1: 下载现成的音频文件

#### 推荐网站：
1. **Zophar's Domain**: https://www.zophar.net/music/nintendo-nes/kung-fu
2. **VGMRips**: https://vgmrips.net/packs/chip/NES/Kung%20Fu
3. **Khinsider**: https://downloads.khinsider.com/game-soundtracks/album/kung-fu-nes

#### 下载步骤：
1. 访问上述网站
2. 搜索 "Kung Fu" 或"功夫"
3. 下载主题音乐 (通常是Stage 1或Main Theme)
4. 转换为MP3格式 (如果需要)
5. 重命名为 `kung-fu-bgm.mp3`
6. 放置到 `public/audio/` 目录

### 方法2: 使用在线转换工具

#### YouTube转MP3：
1. 在YouTube搜索 "FC Kung Fu BGM" 或"功夫 NES BGM"
2. 使用在线转换工具 (如 y2mate.com)
3. 下载MP3文件
4. 重命名并放置到正确目录

#### 推荐搜索关键词：
- "FC Kung Fu Stage 1 BGM"
- "NES Kung Fu Main Theme"
- "功夫 红白机 BGM"
- "Kung Fu Master NES Music"

### 方法3: 自己录制

如果你有FC模拟器：
1. 运行功夫游戏
2. 使用录音软件录制BGM
3. 编辑音频，制作循环版本
4. 导出为MP3格式

## 🔧 技术要求

### 音频格式：
- **格式**: MP3 (推荐) 或 OGG
- **比特率**: 128kbps 或更高
- **采样率**: 44.1kHz
- **声道**: 立体声或单声道
- **文件大小**: 建议 < 5MB

### 循环要求：
- 音频应该能够无缝循环
- 开头和结尾应该平滑连接
- 避免突然的音量变化

## 📁 文件放置

将音频文件放置到以下位置：
```
xlayerslot/frontend-en/public/audio/
├── kung-fu-bgm.mp3      (主BGM)
├── spin-sound.mp3       (转轮音效，可选)
├── win-sound.mp3        (中奖音效，可选)
└── jackpot-sound.mp3    (大奖音效，可选)
```

## 🎮 当前功能

### 已实现的音频功能：
1. **BGM控制**:
   - ▶️ 播放/暂停按钮
   - 🔊 音量滑块 (0-100%)
   - 🔇 静音开关

2. **游戏音效**:
   - 🎰 转轮音效 (抽奖时)
   - 🎉 中奖音效 (普通中奖)
   - 💎 大奖音效 (10倍以上中奖)

3. **备用系统**:
   - 如果音频文件不存在，自动使用生成的音效
   - Web Audio API生成的8-bit风格音效
   - 确保游戏始终有音效

### 音频控制面板位置：
- 位于游戏界面右上角
- 半透明黑色背景
- 包含所有音频控制选项

## 🎵 音效说明

### 当前生成的音效：
1. **转轮音效**: 快速的滴答声序列
2. **中奖音效**: 上升音调 (400Hz → 800Hz)
3. **大奖音效**: 庆祝和弦 (C-E-G-C)
4. **BGM**: 简化的FC功夫主题旋律

### 如果添加了真实音频文件：
- 系统会优先使用真实音频文件
- 只有在文件加载失败时才使用生成音效
- 提供更好的游戏体验

## 🚀 测试音频

### 测试步骤：
1. 打开游戏 (http://localhost:3000/xlayerslot)
2. 点击右上角的播放按钮 ▶️
3. 调整音量滑块
4. 进行抽奖测试音效
5. 测试静音功能

### 预期效果：
- BGM应该循环播放
- 抽奖时有转轮音效
- 中奖时有相应音效
- 音量控制正常工作

## 📝 注意事项

1. **版权**: 确保使用的音频文件符合版权要求
2. **文件大小**: 避免过大的音频文件影响加载速度
3. **浏览器兼容性**: 现代浏览器都支持MP3格式
4. **用户体验**: 提供音量控制和静音选项
5. **移动设备**: 考虑移动设备的音频播放限制

## 🎯 推荐配置

### 最佳用户体验：
- 默认音量: 30%
- 自动播放: 关闭 (需要用户手动启动)
- 循环播放: 开启
- 音效音量: 相对BGM稍低

现在你可以添加真正的FC功夫BGM来获得最佳的游戏体验！🥋🎵
